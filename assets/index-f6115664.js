var Xe=Object.defineProperty;var Qe=(n,e,t)=>e in n?Xe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var C=(n,e,t)=>(Qe(n,typeof e!="symbol"?e+"":e,t),t),Ee=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var d=(n,e,t)=>(Ee(n,e,"read from private field"),t?t.call(n):e.get(n)),k=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},M=(n,e,t,s)=>(Ee(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),Ye=(n,e,t,s)=>({set _(i){M(n,e,i,t)},get _(){return d(n,e,s)}}),E=(n,e,t)=>(Ee(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();const app="";function noop(){}function run(n){return n()}function blank_object(){return Object.create(null)}function run_all(n){n.forEach(run)}function is_function(n){return typeof n=="function"}function safe_not_equal(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function is_empty(n){return Object.keys(n).length===0}function subscribe(n,...e){if(n==null)return noop;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function get_store_value(n){let e;return subscribe(n,t=>e=t)(),e}function component_subscribe(n,e,t){n.$$.on_destroy.push(subscribe(e,t))}function append(n,e){n.appendChild(e)}function insert(n,e,t){n.insertBefore(e,t||null)}function detach(n){n.parentNode&&n.parentNode.removeChild(n)}function destroy_each(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function element(n){return document.createElement(n)}function text(n){return document.createTextNode(n)}function space(){return text(" ")}function empty(){return text("")}function listen(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function attr(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function children(n){return Array.from(n.childNodes)}function set_data(n,e){e=""+e,n.data!==e&&(n.data=e)}function set_style(n,e,t,s){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,s?"important":"")}function toggle_class(n,e,t){n.classList[t?"add":"remove"](e)}let current_component;function set_current_component(n){current_component=n}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(n){get_current_component().$$.on_mount.push(n)}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(n){render_callbacks.push(n)}const seen_callbacks=new Set;let flushidx=0;function flush(){if(flushidx!==0)return;const n=current_component;do{try{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}}catch(e){throw dirty_components.length=0,flushidx=0,e}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(n)}function update(n){if(n.fragment!==null){n.update(),run_all(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(add_render_callback)}}function flush_render_callbacks(n){const e=[],t=[];render_callbacks.forEach(s=>n.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),render_callbacks=e}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(n,e){n&&n.i&&(outroing.delete(n),n.i(e))}function transition_out(n,e,t,s){if(n&&n.o){if(outroing.has(n))return;outroing.add(n),outros.c.push(()=>{outroing.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}function outro_and_destroy_block(n,e){transition_out(n,1,1,()=>{e.delete(n.key)})}function update_keyed_each(n,e,t,s,i,a,r,u,l,o,c,p){let _=n.length,f=a.length,m=_;const h={};for(;m--;)h[n[m].key]=m;const b=[],v=new Map,j=new Map,B=[];for(m=f;m--;){const y=p(i,a,m),g=t(y);let $=r.get(g);$?s&&B.push(()=>$.p(y,e)):($=o(g,y),$.c()),v.set(g,b[m]=$),g in h&&j.set(g,Math.abs(m-h[g]))}const x=new Set,L=new Set;function A(y){transition_in(y,1),y.m(u,c),r.set(y.key,y),c=y.first,f--}for(;_&&f;){const y=b[f-1],g=n[_-1],$=y.key,z=g.key;y===g?(c=y.first,_--,f--):v.has(z)?!r.has($)||x.has($)?A(y):L.has(z)?_--:j.get($)>j.get(z)?(L.add($),A(y)):(x.add(z),_--):(l(g,r),_--)}for(;_--;){const y=n[_];v.has(y.key)||l(y,r)}for(;f;)A(b[f-1]);return run_all(B),b}function create_component(n){n&&n.c()}function mount_component(n,e,t,s){const{fragment:i,after_update:a}=n.$$;i&&i.m(e,t),s||add_render_callback(()=>{const r=n.$$.on_mount.map(run).filter(is_function);n.$$.on_destroy?n.$$.on_destroy.push(...r):run_all(r),n.$$.on_mount=[]}),a.forEach(add_render_callback)}function destroy_component(n,e){const t=n.$$;t.fragment!==null&&(flush_render_callbacks(t.after_update),run_all(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function make_dirty(n,e){n.$$.dirty[0]===-1&&(dirty_components.push(n),schedule_update(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function init(n,e,t,s,i,a,r,u=[-1]){const l=current_component;set_current_component(n);const o=n.$$={fragment:null,ctx:[],props:a,update:noop,not_equal:i,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:blank_object(),dirty:u,skip_bound:!1,root:e.target||l.$$.root};r&&r(o.root);let c=!1;if(o.ctx=t?t(n,e.props||{},(p,_,...f)=>{const m=f.length?f[0]:_;return o.ctx&&i(o.ctx[p],o.ctx[p]=m)&&(!o.skip_bound&&o.bound[p]&&o.bound[p](m),c&&make_dirty(n,p)),_}):[],o.update(),c=!0,run_all(o.before_update),o.fragment=s?s(o.ctx):!1,e.target){if(e.hydrate){const p=children(e.target);o.fragment&&o.fragment.l(p),p.forEach(detach)}else o.fragment&&o.fragment.c();e.intro&&transition_in(n.$$.fragment),mount_component(n,e.target,e.anchor,e.customElement),flush()}set_current_component(l)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,t){if(!is_function(t))return noop;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const i=s.indexOf(t);i!==-1&&s.splice(i,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const subscriber_queue=[];function writable(n,e=noop){let t;const s=new Set;function i(u){if(safe_not_equal(n,u)&&(n=u,t)){const l=!subscriber_queue.length;for(const o of s)o[1](),subscriber_queue.push(o,n);if(l){for(let o=0;o<subscriber_queue.length;o+=2)subscriber_queue[o][0](subscriber_queue[o+1]);subscriber_queue.length=0}}}function a(u){i(u(n))}function r(u,l=noop){const o=[u,l];return s.add(o),s.size===1&&(t=e(i)||noop),u(n),()=>{s.delete(o),s.size===0&&t&&(t(),t=null)}}return{set:i,update:a,subscribe:r}}var K,F,ee,H,ie;class Resource{constructor(e=0){k(this,H);C(this,"subscribe");C(this,"set");C(this,"update");k(this,K,void 0);k(this,F,0);k(this,ee,0);const{subscribe:t,set:s,update:i}=writable(this);this.subscribe=t,this.set=s,this.update=i,M(this,F,e),M(this,ee,e),M(this,K,{total:[],change:[],add:[],remove:[]})}add(e){const t=Number(e.toFixed(2));this.update(r=>(M(r,F,d(r,F)+t),M(r,ee,d(r,ee)+t),r));const s={amount:d(this,F)},i={total:d(this,ee)},a={added:t};E(this,H,ie).call(this,"change",s),E(this,H,ie).call(this,"total",i),E(this,H,ie).call(this,"add",a)}remove(e){const t=Number(e.toFixed(2));this.update(a=>(M(a,F,d(a,F)-t),a));const s={amount:d(this,F)},i={removed:t};E(this,H,ie).call(this,"change",s),E(this,H,ie).call(this,"remove",i)}get amount(){return d(this,F)}get total(){return d(this,ee)}addListener(e,t){d(this,K)[e].push(t)}removeListener(e,t){d(this,K)[e]=d(this,K)[e].filter(s=>s!==t)}}K=new WeakMap,F=new WeakMap,ee=new WeakMap,H=new WeakSet,ie=function(e,t){e in d(this,K)&&d(this,K)[e].forEach(s=>s(t))};class Experience extends Resource{constructor(){super()}}const experience=new Experience;class Karma extends Resource{constructor(){super()}}const karma=new Karma;function formatRounded(n,e=1){const t=10**e;return Math.round(n*t)/t}function formatNumber(n,e=!0){const i=e?["","thousand","million","billion"," trillion","quadrillion","quintillion","sextillion","septillion","octillion","nonillion","decillion","undecillion","duodecillion","tredecillion","quattuordecillion","quindecillion","sexdecillion","septendecillion","octodecillion","novemdecillion","vigintillion","centillion"]:["","k","M","B","T","q","Q","s","S","O","N","D","U","d","T","q","Q","s","S","O","N","V","c"],a=Math.floor(Math.log10(n)),r=a>=0?Math.floor(a/3):Math.ceil(a/3),u=i[r]??"";let l;return n<1e3?l=formatRounded(n,2).toString():l=(n/Math.pow(10,r*3)).toFixed(3).replace(/\.?0+$/,""),`${l}${e?" ":""}${u}`.trimEnd()}function withinRange(n,e,t){return n>=e&&n<t}function compoundScale(n,e,t){return n*(1+t)**(e-1)}const resourcesInfo_svelte_svelte_type_style_lang="";function create_fragment$9(n){let e,t,s,i,a,r=formatNumber(n[0].amount)+"",u,l,o,c=formatNumber(n[0].total)+"",p,_,f,m,h,b,v,j=formatNumber(n[1].amount)+"",B,x,L,A=formatNumber(n[1].total)+"",y,g;return{c(){e=element("div"),t=element("div"),s=element("span"),s.textContent="Experience",i=space(),a=element("p"),u=text(r),l=space(),o=element("p"),p=text(c),_=text(" total"),f=space(),m=element("div"),h=element("span"),h.textContent="Karma",b=space(),v=element("p"),B=text(j),x=space(),L=element("p"),y=text(A),g=text(" total"),attr(s,"class","title svelte-145127a"),attr(a,"class","svelte-145127a"),attr(o,"class","svelte-145127a"),set_style(o,"font-size",".5em"),attr(t,"class","resource experience svelte-145127a"),attr(h,"class","title svelte-145127a"),attr(v,"class","svelte-145127a"),attr(L,"class","svelte-145127a"),set_style(L,"font-size",".5em"),attr(m,"class","resource karma svelte-145127a"),attr(e,"class","resources svelte-145127a")},m($,z){insert($,e,z),append(e,t),append(t,s),append(t,i),append(t,a),append(a,u),append(t,l),append(t,o),append(o,p),append(o,_),append(e,f),append(e,m),append(m,h),append(m,b),append(m,v),append(v,B),append(m,x),append(m,L),append(L,y),append(L,g)},p($,[z]){z&1&&r!==(r=formatNumber($[0].amount)+"")&&set_data(u,r),z&1&&c!==(c=formatNumber($[0].total)+"")&&set_data(p,c),z&2&&j!==(j=formatNumber($[1].amount)+"")&&set_data(B,j),z&2&&A!==(A=formatNumber($[1].total)+"")&&set_data(y,A)},i:noop,o:noop,d($){$&&detach(e)}}}function instance$9(n,e,t){let s,i;return component_subscribe(n,experience,a=>t(0,s=a)),component_subscribe(n,karma,a=>t(1,i=a)),[s,i]}class Resources_info extends SvelteComponent{constructor(e){super(),init(this,e,instance$9,create_fragment$9,safe_not_equal,{})}}const planetData={first:{cycles_per_age:2,stage_amount_multiplier:1.3,initial_amount:100}},waveSlot_svelte_svelte_type_style_lang="";function create_fragment$8(n){let e,t,s,i,a,r,u,l,o;return{c(){e=element("div"),t=element("div"),t.innerHTML='<div class="point svelte-nhdjzh"></div>',s=space(),i=element("div"),a=element("div"),r=space(),u=element("span"),l=text(n[1]),attr(t,"class","point-wrap svelte-nhdjzh"),attr(a,"class","progress-bar svelte-nhdjzh"),attr(u,"class","svelte-nhdjzh"),toggle_class(u,"small",n[2]),attr(i,"class","progress-counter svelte-nhdjzh"),attr(e,"class",o="wave-slot "+n[0]+" svelte-nhdjzh"),toggle_class(e,"active",n[3]),set_style(e,"--progress",n[4])},m(c,p){insert(c,e,p),append(e,t),append(e,s),append(e,i),append(i,a),append(i,r),append(i,u),append(u,l)},p(c,[p]){p&2&&set_data(l,c[1]),p&4&&toggle_class(u,"small",c[2]),p&1&&o!==(o="wave-slot "+c[0]+" svelte-nhdjzh")&&attr(e,"class",o),p&9&&toggle_class(e,"active",c[3]),p&16&&set_style(e,"--progress",c[4])},i:noop,o:noop,d(c){c&&detach(e)}}}function instance$8(n,e,t){let s,i,a,r,u;component_subscribe(n,karma,_=>t(7,u=_));let{type:l="high"}=e,{min:o}=e,{max:c}=e;function p(_){return o>_?0:_>=c?100:(_-o)/(c-o)*100%100}return n.$$set=_=>{"type"in _&&t(0,l=_.type),"min"in _&&t(5,o=_.min),"max"in _&&t(6,c=_.max)},n.$$.update=()=>{n.$$.dirty&128&&t(4,s=p(u.total)),n.$$.dirty&224&&t(3,i=withinRange(u.total,o,c)),n.$$.dirty&64&&t(1,a=formatNumber(c,!1)),n.$$.dirty&2&&t(2,r=a.length>6)},[l,a,r,i,s,o,c,u]}class Wave_slot extends SvelteComponent{constructor(e){super(),init(this,e,instance$8,create_fragment$8,safe_not_equal,{type:0,min:5,max:6})}}const oscillationSlice_svelte_svelte_type_style_lang="";function get_each_context$3(n,e,t){const s=n.slice();s[4]=e[t],s[11]=t;const i=(s[11]+1)*(s[0]+1);s[5]=i;const a=s[0]===0;s[6]=a;const r=s[11]===0;s[7]=r;const u=s[6]&&s[7]?0:compoundScale(s[2],s[11]*s[0],s[1]);s[8]=u;const l=compoundScale(s[2],s[5],s[1]);return s[9]=l,s}function create_each_block$3(n){let e,t;return e=new Wave_slot({props:{type:n[4],min:n[8],max:n[9]}}),{c(){create_component(e.$$.fragment)},m(s,i){mount_component(e,s,i),t=!0},p(s,i){const a={};i&7&&(a.min=s[8]),i&7&&(a.max=s[9]),e.$set(a)},i(s){t||(transition_in(e.$$.fragment,s),t=!0)},o(s){transition_out(e.$$.fragment,s),t=!1},d(s){destroy_component(e,s)}}}function create_fragment$7(n){let e,t,s=n[3],i=[];for(let r=0;r<s.length;r+=1)i[r]=create_each_block$3(get_each_context$3(n,s,r));const a=r=>transition_out(i[r],1,1,()=>{i[r]=null});return{c(){e=element("div");for(let r=0;r<i.length;r+=1)i[r].c();attr(e,"class","oscillation-slice svelte-lcuee6")},m(r,u){insert(r,e,u);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(e,null);t=!0},p(r,[u]){if(u&15){s=r[3];let l;for(l=0;l<s.length;l+=1){const o=get_each_context$3(r,s,l);i[l]?(i[l].p(o,u),transition_in(i[l],1)):(i[l]=create_each_block$3(o),i[l].c(),transition_in(i[l],1),i[l].m(e,null))}for(group_outros(),l=s.length;l<i.length;l+=1)a(l);check_outros()}},i(r){if(!t){for(let u=0;u<s.length;u+=1)transition_in(i[u]);t=!0}},o(r){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)transition_out(i[u]);t=!1},d(r){r&&detach(e),destroy_each(i,r)}}}function instance$7(n,e,t){let{index:s}=e,{multiplier:i=.5}=e,{initialAmount:a=10}=e;const r=["high","mid","low","mid"];return n.$$set=u=>{"index"in u&&t(0,s=u.index),"multiplier"in u&&t(1,i=u.multiplier),"initialAmount"in u&&t(2,a=u.initialAmount)},[s,i,a,r]}class Oscillation_slice extends SvelteComponent{constructor(e){super(),init(this,e,instance$7,create_fragment$7,safe_not_equal,{index:0,multiplier:1,initialAmount:2})}}const incarnationCycle_svelte_svelte_type_style_lang="";function get_each_context$2(n,e,t){const s=n.slice();s[1]=e[t],s[6]=t;const i=s[6]*4+1;s[2]=i;const a=s[0].stage_amount_multiplier;s[3]=a;const r=compoundScale(s[0].initial_amount,s[2],s[3]);return s[4]=r,s}function create_each_block$2(n,e){let t,s,i;return s=new Oscillation_slice({props:{initialAmount:e[4],multiplier:e[0].stage_amount_multiplier,index:e[6]}}),{key:n,first:null,c(){t=empty(),create_component(s.$$.fragment),this.first=t},m(a,r){insert(a,t,r),mount_component(s,a,r),i=!0},p(a,r){e=a},i(a){i||(transition_in(s.$$.fragment,a),i=!0)},o(a){transition_out(s.$$.fragment,a),i=!1},d(a){a&&detach(t),destroy_component(s,a)}}}function create_fragment$6(n){let e,t,s=[],i=new Map,a,r=Array(n[0].cycles_per_age);const u=l=>`s${l[6]}`;for(let l=0;l<r.length;l+=1){let o=get_each_context$2(n,r,l),c=u(o);i.set(c,s[l]=create_each_block$2(c,o))}return{c(){e=element("div"),t=element("div");for(let l=0;l<s.length;l+=1)s[l].c();attr(t,"class","container svelte-1vmrjdi"),attr(e,"class","planetary-period svelte-1vmrjdi")},m(l,o){insert(l,e,o),append(e,t);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(t,null);a=!0},p(l,[o]){o&1&&(r=Array(l[0].cycles_per_age),group_outros(),s=update_keyed_each(s,o,u,1,l,r,i,t,outro_and_destroy_block,create_each_block$2,null,get_each_context$2),check_outros())},i(l){if(!a){for(let o=0;o<r.length;o+=1)transition_in(s[o]);a=!0}},o(l){for(let o=0;o<s.length;o+=1)transition_out(s[o]);a=!1},d(l){l&&detach(e);for(let o=0;o<s.length;o+=1)s[o].d()}}}function instance$6(n){return[planetData.first]}class Incarnation_cycle extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$6,safe_not_equal,{})}}var N,ve;class ResourceManager{constructor(){C(this,"subscribe");C(this,"set");C(this,"update");k(this,N,void 0);k(this,ve,{});const{subscribe:e,set:t,update:s}=writable(this);this.subscribe=e,this.set=t,this.update=s,M(this,N,{experience,karma}),Object.keys(d(this,N)).forEach(i=>{d(this,ve)[i]=[]})}getTotal(e){return e in d(this,N)?get_store_value(d(this,N)[e]).total:void 0}getAmount(e){return e in d(this,N)?get_store_value(d(this,N)[e]).amount:void 0}has(e,t){if(t)return this.getAmount(e)>=t}add(e,t,s){if(!(e in d(this,N)))return;const i=get_store_value(d(this,N)[e]);let a=1;return s&&(a=EffectManager$1.get(s,"multiplier")),i.add(t*a)}remove(e,t){return e in d(this,N)?get_store_value(d(this,N)[e]).remove(t):void 0}addListener(e,t,s){if(!(e in d(this,N)))return;get_store_value(d(this,N)[e]).addListener(t,s)}removeListener(e,t,s){if(!(e in d(this,N)))return;get_store_value(d(this,N)[e]).removeListener(t,s)}}N=new WeakMap,ve=new WeakMap;const manager$3=new ResourceManager,data$1={main_action:[{id:"str_1",title:"Getting the hang of it",description:"Incarnation XP yield x1.5",effect:"unitYield * 1.5",effect_target:"experience",unlock_type:"experience",unlocks_at:30},{id:"str_2",title:"Upgrade",description:"Incarnation XP yield x2",effect:"unitYield * 2",effect_target:"experience",unlock_type:"experience",unlocks_at:200,cost:200,cost_type:"experience"},{id:"str_3",title:"More cause means more effect",description:"Incarnation XP x3",effect:"unitYield * 3",effect_target:"experience",unlocks_at:10,unlock_type:"karma",cost:15,cost_type:"karma"},{id:"str_4",title:"Upgrade",description:"Incarnation XP yield squared",effect:"unitYield ** 2",effect_target:"experience",unlocks_at:25,unlock_type:"karma",cost:25,cost_type:"karma"}],basic:[{id:"core_0",title:"Self Discovery",description:"Unlock probes that can generate karma.",effect:"unlock",unlocks_at:10,unlock_type:"karma",cost:60,cost_type:"experience"},{id:"core_1",title:"An easier way",description:"Give probes incarnational autonomy.",effect:"autonomy",unlocks_at:20,unlock_type:"karma",cost:200,cost_type:"experience"}]},upgradeMap={};Object.keys(data$1).forEach(n=>{upgradeMap[n]={},data$1[n].forEach(e=>{upgradeMap[n][e.id]=e})});var P,ye,Ie;class UpgradeManager{constructor(){k(this,ye);C(this,"subscribe");C(this,"set");C(this,"update");k(this,P,{});const{subscribe:n,set:e,update:t}=writable(this);this.subscribe=n,this.set=e,this.update=t,Object.keys(data$1).forEach(s=>{d(this,P)[s]=[]})}isLocked(n,e){if(!(n in d(this,P)))return;const t=data$1[n].find(r=>r.id===e);if(!t)return;const{unlock_type:s,unlocks_at:i}=t;return manager$3.getTotal(s)<i}isAcquired(n,e){if(n in d(this,P))return d(this,P)[n].includes(e)}purchase(n,e){if(!(n in d(this,P))||d(this,P)[n].includes(e))return;const t=upgradeMap[n][e];if(!t)return;const{cost:s,cost_type:i}=t;if(manager$3.getAmount(i)>=s)return manager$3.remove(i,s),this.acquire(n,e),!0}acquire(n,e){if(console.log("upgradeManager acquire",{target:n,id:e,this:this,upgradeMap}),!(n in d(this,P))||d(this,P)[n].includes(e))return;const t=upgradeMap[n][e];if(!t)return;this.update(a=>(d(a,P)[n].push(e),a));const{effect:s,effect_target:i}=t;s&&E(this,ye,Ie).call(this,n,s,i)}}P=new WeakMap,ye=new WeakSet,Ie=function(target,effect,effectTarget){if(!(target in d(this,P)))return;switch(effect){case"unlock":return BuildingManager$1.unlock(target);case"autonomy":return BuildingManager$1.getBuilding(target).toggleAutonomy(!0)}const building=BuildingManager$1.getBuilding(target);if(effect.includes("unitYield")){if(effectTarget){building.production[effectTarget];const value=eval(effect);building.updateProduction(effectTarget,value)}Object.keys(building.production)}};const manager$2=new UpgradeManager;var Y,W,ke,Re;class EffectManager{constructor(){k(this,ke);C(this,"subscribe");C(this,"set");C(this,"update");k(this,Y,{});k(this,W,void 0);const{subscribe:n,set:e,update:t}=writable(this);this.subscribe=n,this.set=e,this.update=t,M(this,W,{add:[]}),Object.keys(data$1).forEach(s=>{d(this,Y)[s]={unitYield:1}})}get effects(){return d(this,Y)}get(n,e){if(n in d(this,Y)&&e in d(this,Y)[n])return d(this,Y)[n][e]}addEffect(n,e){if(!(n in d(this,Y)))return;this.update(s=>{var a;const i=d(s,Y)[n].unitYield;return d(s,Y)[n].unitYield=E(a=s,ke,Re).call(a,e,i),s});const t={target:n,effect:e};this.runCallbacks("add",t)}addListener(n,e){d(this,W)[n].push(e)}removeListener(n,e){d(this,W)[n]=d(this,W)[n].filter(t=>t!==e)}runCallbacks(n,e){n in d(this,W)&&d(this,W)[n].forEach(t=>t(e))}}Y=new WeakMap,W=new WeakMap,ke=new WeakSet,Re=function(effect,value){if(effect.includes("unitYield")){const run=effect.replace("unitYield",String(value));return eval(run)}};const manager$1=new EffectManager,EffectManager$1=manager$1;var X,pe,U,Q,_e,O,ae,te,re,oe,le,G,$e,Ue,we,Te,qe,Ke,Me,Fe,Be,We,I,T;class Building{constructor(e,t){k(this,$e);k(this,we);k(this,qe);k(this,Me);k(this,Be);k(this,I);C(this,"subscribe");C(this,"set");C(this,"update");k(this,X,void 0);k(this,pe,void 0);k(this,U,void 0);k(this,Q,0);k(this,_e,0);k(this,O,0);k(this,ae,0);k(this,te,void 0);k(this,re,void 0);k(this,oe,!1);k(this,le,!1);k(this,G,{});const{subscribe:s,set:i,update:a}=writable(this);this.subscribe=s,this.set=i,this.update=a,M(this,pe,e),M(this,U,t),M(this,te,t.duration),M(this,O,t.quantity??0);const{yield_type:r,yield_unit:u}=t;M(this,re,u),d(this,G)[r]=u,M(this,X,{level:[],quantity:[],total:[],add:[],remove:[],queue:[],action:[]})}add(e){const t=Math.trunc(e);this.update(r=>{var u;return M(r,O,d(r,O)+t),M(r,ae,d(r,ae)+t),M(r,_e,E(u=r,Be,We).call(u)),r});const s={quantity:d(this,O)},i={total:d(this,ae)},a={added:t};E(this,I,T).call(this,"quantity",s),E(this,I,T).call(this,"total",i),E(this,I,T).call(this,"add",a),E(this,$e,Ue).call(this)}remove(e){const t=Math.trunc(e);this.update(a=>(M(a,O,d(a,O)-t),a));const s={quantity:d(this,O)},i={removed:t};E(this,I,T).call(this,"quantity",s),E(this,I,T).call(this,"remove",i)}queueAction(){this.update(s=>(M(this,le,!0),s));const e=d(this,te);e?setTimeout(()=>this.executeAction(),e):this.executeAction();const t={duration:e};E(this,I,T).call(this,"queue",t)}executeAction(){E(this,qe,Ke).call(this),E(this,I,T).call(this,"action"),this.update(e=>(M(this,le,!1),e)),this.autonomous&&this.queueAction()}toggleAutonomy(e){this.update(t=>(M(t,oe,e??!d(t,oe)),t)),e&&this.queueAction()}updateProduction(e,t){e in d(this,G)&&this.update(s=>(d(s,G)[e]=t,s))}getCost(e){return e<1?null:E(this,Me,Fe).call(this,e)}get id(){return d(this,pe)}get data(){return d(this,U)}get level(){return d(this,Q)}get levelProgress(){return d(this,_e)}get quantity(){return d(this,O)}get total(){return d(this,ae)}get production(){return d(this,G)}get duration(){return d(this,te)}get unitYield(){return d(this,re)}get autonomous(){return d(this,oe)}get inProgress(){return d(this,le)}addListener(e,t){d(this,X)[e].push(t)}removeListener(e,t){d(this,X)[e]=d(this,X)[e].filter(s=>s!==t)}}X=new WeakMap,pe=new WeakMap,U=new WeakMap,Q=new WeakMap,_e=new WeakMap,O=new WeakMap,ae=new WeakMap,te=new WeakMap,re=new WeakMap,oe=new WeakMap,le=new WeakMap,G=new WeakMap,$e=new WeakSet,Ue=async function(){const e=d(this,O),{upgrade_cost:t}=d(this,U);for(;e>=t[d(this,Q)]&&(E(this,we,Te).call(this),!(d(this,Q)>=t.length)););},we=new WeakSet,Te=function(){this.update(t=>{const s=t.unitYield,i=t.duration,{yield_multiplier:a,duration_reduction:r}=d(this,U);return Ye(t,Q)._++,M(t,re,s+s*a),M(t,te,i-i*r),t});const e={level:d(this,Q)};E(this,I,T).call(this,"level",e)},qe=new WeakSet,Ke=function(){Object.keys(d(this,G)).forEach(t=>{const i=d(this,G)[t]*d(this,O);manager$3.add(t,i)})},Me=new WeakSet,Fe=function(e){const t=e+(d(this,O)??1);return d(this,U).cost*(1+d(this,U).cost_multiplier)**(t-1)},Be=new WeakSet,We=function(){const e=d(this,Q),t=d(this,O),s=d(this,U),i=e>0?s.upgrade_cost[e-1]:0,a=s.upgrade_cost[e];return a?(t-i)/(a-i)*100%100:100},I=new WeakSet,T=function(e,t){e in d(this,X)&&d(this,X)[e].forEach(s=>s(t))};const data={main_action:{yield_type:"experience",yield_unit:1,duration:0,quantity:1},basic:{upgrade_cost:[5,15,25,50,75,100,125],cost_multiplier:.1,yield_multiplier:.85,cost:5,cost_type:"karma",yield_unit:1,yield_type:"karma",duration:1e3,duration_reduction:.69}};var D,ze;class BuildingManager{constructor(){C(this,"subscribe");C(this,"set");C(this,"update");k(this,D,{});k(this,ze,void 0);const{subscribe:e,set:t,update:s}=writable(this);this.subscribe=e,this.set=t,this.update=s}purchase(e,t=1){if(!(e in data))return;const s=data[e],{cost:i,cost_type:a}=s;if(this.canAfford(e,t))return this.unlock(e),manager$3.remove(a,i),this.acquire(e,t),!0}unlock(e){if(!(e in data)||e in d(this,D))return;const t=data[e];this.update(s=>(d(s,D)[e]=new Building(e,t),s))}acquire(e,t=1){if(!(e in data))return;d(this,D)[e].add(t)}canAfford(e,t=1){if(!(e in data))return!1;const s=data[e],{cost_type:i}=s,a=d(this,D)[e].getCost(t);return manager$3.has(i,a)}getBuilding(e){if(e in d(this,D))return d(this,D)[e]}get buildings(){return Object.keys(d(this,D))}addListener(e,t,s){if(!(e in data)||!(e in d(this,D)))return;d(this,D)[e].addListener(t,s)}removeListener(e,t,s){if(!(e in data)||!(e in d(this,D)))return;d(this,D)[e].removeListener(t,s)}}D=new WeakMap,ze=new WeakMap;const manager=new BuildingManager,BuildingManager$1=manager,mainAction_svelte_svelte_type_style_lang="";function create_fragment$5(n){let e,t,s,i,a,r,u,l,o;return{c(){e=element("div"),t=element("div"),s=element("button"),i=text(`Incarnate\r
      `),a=element("span"),r=text(n[1]),u=text(" xp"),attr(s,"class","planet svelte-o5wx8i"),attr(t,"class","container svelte-o5wx8i"),attr(e,"class","main-action-widget svelte-o5wx8i")},m(c,p){insert(c,e,p),append(e,t),append(t,s),append(s,i),append(s,a),append(a,r),append(a,u),l||(o=listen(s,"click",n[2]),l=!0)},p(c,[p]){p&2&&set_data(r,c[1])},i:noop,o:noop,d(c){c&&detach(e),l=!1,o()}}}const id="main_action";function instance$5(n,e,t){let s,i,a,r=noop,u=()=>(r(),r=subscribe(s,o=>t(3,a=o)),s);n.$$.on_destroy.push(()=>r());function l(){s.queueAction()}return onMount(()=>{const o=c=>{manager$3.add("karma",c.added/3)};manager$3.addListener("experience","add",o)}),n.$$.update=()=>{n.$$.dirty&9&&t(1,i=a.production[s.data.yield_type])},u(t(0,s=BuildingManager$1.getBuilding(id))),[s,i,l,a]}class Main_action extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$5,safe_not_equal,{})}}const upgradeItem_svelte_svelte_type_style_lang="";function create_if_block$2(n){let e,t="cost"in n[1]&&create_if_block_1(n);return{c(){t&&t.c(),e=empty()},m(s,i){t&&t.m(s,i),insert(s,e,i)},p(s,i){"cost"in s[1]?t?t.p(s,i):(t=create_if_block_1(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&detach(e)}}}function create_if_block_1(n){let e,t,s,i,a,r=n[1].cost+"",u,l,o=n[1].cost_type+"",c,p,_,f;return{c(){e=element("button"),t=text(`Acquire\r
            `),s=element("br"),i=space(),a=element("span"),u=text(r),l=space(),c=text(o),set_style(a,"font-size",".8em"),e.disabled=p=!n[4]},m(m,h){insert(m,e,h),append(e,t),append(e,s),append(e,i),append(e,a),append(a,u),append(a,l),append(a,c),_||(f=listen(e,"click",n[5]),_=!0)},p(m,h){h&2&&r!==(r=m[1].cost+"")&&set_data(u,r),h&2&&o!==(o=m[1].cost_type+"")&&set_data(c,o),h&16&&p!==(p=!m[4])&&(e.disabled=p)},d(m){m&&detach(e),_=!1,f()}}}function create_fragment$4(n){let e,t,s,i,a=n[1].title+"",r,u,l,o,c=n[1].description+"",p,_,f,m,h=!n[3]&&create_if_block$2(n);return{c(){e=element("li"),t=element("div"),s=element("div"),i=element("span"),r=text(a),u=space(),l=element("div"),o=element("p"),p=text(c),_=space(),h&&h.c(),attr(i,"class","title svelte-3pwonr"),attr(s,"class","item-header svelte-3pwonr"),attr(o,"class","description svelte-3pwonr"),attr(l,"class","item-body svelte-3pwonr"),attr(t,"class","item-content"),attr(e,"class","item svelte-3pwonr"),attr(e,"data-type",n[0]),attr(e,"data-unlocks-at",f=n[1].unlocks_at),attr(e,"data-unlock-type",m=n[1].unlock_type),toggle_class(e,"unlocked",n[2]),toggle_class(e,"acquired",n[3])},m(b,v){insert(b,e,v),append(e,t),append(t,s),append(s,i),append(i,r),append(t,u),append(t,l),append(l,o),append(o,p),append(l,_),h&&h.m(l,null)},p(b,[v]){v&2&&a!==(a=b[1].title+"")&&set_data(r,a),v&2&&c!==(c=b[1].description+"")&&set_data(p,c),b[3]?h&&(h.d(1),h=null):h?h.p(b,v):(h=create_if_block$2(b),h.c(),h.m(l,null)),v&1&&attr(e,"data-type",b[0]),v&2&&f!==(f=b[1].unlocks_at)&&attr(e,"data-unlocks-at",f),v&2&&m!==(m=b[1].unlock_type)&&attr(e,"data-unlock-type",m),v&4&&toggle_class(e,"unlocked",b[2]),v&8&&toggle_class(e,"acquired",b[3])},i:noop,o:noop,d(b){b&&detach(e),h&&h.d()}}}function instance$4(n,e,t){let{target:s}=e,{data:i}=e,a=!1,r=!1,u=!1;function l(){manager$2.purchase(s,i.id)&&t(3,r=!0)}return onMount(()=>{const{cost:o,cost_type:c,unlock_type:p,id:_}=i,f=h=>{if(a&&r){manager$3.removeListener(p,"total",f);return}if(!manager$2.isLocked(s,_)){t(2,a=!0),"cost"in i||(t(3,r=!0),manager$2.acquire(s,_));return}manager$2.isAcquired(s,_)&&t(3,r=!0)},m=h=>{t(4,u=h.amount>=o)};manager$3.addListener(p,"total",f),manager$3.addListener(c,"change",m)}),n.$$set=o=>{"target"in o&&t(0,s=o.target),"data"in o&&t(1,i=o.data)},[s,i,a,r,u,l]}class Upgrade_item extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$4,safe_not_equal,{target:0,data:1})}}const upgradesWidget_svelte_svelte_type_style_lang="";function get_each_context$1(n,e,t){const s=n.slice();return s[1]=e[t],s[3]=t,s}function get_each_context_1(n,e,t){const s=n.slice();return s[4]=e[t],s}function create_each_block_1(n,e){let t,s,i;return s=new Upgrade_item({props:{data:e[4],target:e[1]}}),{key:n,first:null,c(){t=empty(),create_component(s.$$.fragment),this.first=t},m(a,r){insert(a,t,r),mount_component(s,a,r),i=!0},p(a,r){e=a},i(a){i||(transition_in(s.$$.fragment,a),i=!0)},o(a){transition_out(s.$$.fragment,a),i=!1},d(a){a&&detach(t),destroy_component(s,a)}}}function create_if_block$1(n){let e;return{c(){e=element("li"),attr(e,"class","separator svelte-cyqf8z")},m(t,s){insert(t,e,s)},d(t){t&&detach(e)}}}function create_each_block$1(n,e){let t,s=[],i=new Map,a,r,u,l=data$1[e[1]];const o=p=>p[4].id;for(let p=0;p<l.length;p+=1){let _=get_each_context_1(e,l,p),f=o(_);i.set(f,s[p]=create_each_block_1(f,_))}let c=e[3]<e[0].length-1&&create_if_block$1();return{key:n,first:null,c(){t=empty();for(let p=0;p<s.length;p+=1)s[p].c();a=space(),c&&c.c(),r=empty(),this.first=t},m(p,_){insert(p,t,_);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(p,_);insert(p,a,_),c&&c.m(p,_),insert(p,r,_),u=!0},p(p,_){e=p,_&1&&(l=data$1[e[1]],group_outros(),s=update_keyed_each(s,_,o,1,e,l,i,a.parentNode,outro_and_destroy_block,create_each_block_1,a,get_each_context_1),check_outros())},i(p){if(!u){for(let _=0;_<l.length;_+=1)transition_in(s[_]);u=!0}},o(p){for(let _=0;_<s.length;_+=1)transition_out(s[_]);u=!1},d(p){p&&detach(t);for(let _=0;_<s.length;_+=1)s[_].d(p);p&&detach(a),c&&c.d(p),p&&detach(r)}}}function create_fragment$3(n){let e,t,s,i=[],a=new Map,r,u=n[0];const l=o=>o[1];for(let o=0;o<u.length;o+=1){let c=get_each_context$1(n,u,o),p=l(c);a.set(p,i[o]=create_each_block$1(p,c))}return{c(){e=element("div"),t=element("div"),s=element("ul");for(let o=0;o<i.length;o+=1)i[o].c();attr(s,"class","svelte-cyqf8z"),attr(t,"class","container"),attr(e,"class","upgrades-widget svelte-cyqf8z")},m(o,c){insert(o,e,c),append(e,t),append(t,s);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(s,null);r=!0},p(o,[c]){c&1&&(u=o[0],group_outros(),i=update_keyed_each(i,c,l,1,o,u,a,s,outro_and_destroy_block,create_each_block$1,null,get_each_context$1),check_outros())},i(o){if(!r){for(let c=0;c<u.length;c+=1)transition_in(i[c]);r=!0}},o(o){for(let c=0;c<i.length;c+=1)transition_out(i[c]);r=!1},d(o){o&&detach(e);for(let c=0;c<i.length;c+=1)i[c].d()}}}function instance$3(n){return[Object.keys(data$1)]}class Upgrades_widget extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{})}}const buildingItem_svelte_svelte_type_style_lang="";function create_else_block$1(n){let e;return{c(){e=text("Manual")},m(t,s){insert(t,e,s)},p:noop,d(t){t&&detach(e)}}}function create_if_block(n){let e,t;return{c(){e=text("Autonomous "),t=element("input"),attr(t,"type","checkbox"),t.checked=n[9],attr(t,"class","svelte-1nm5z2e")},m(s,i){insert(s,e,i),insert(s,t,i)},p(s,i){i&512&&(t.checked=s[9])},d(s){s&&detach(e),s&&detach(t)}}}function create_fragment$2(n){let e,t,s,i,a,r=n[1].title+"",u,l,o,c=n[1].description+"",p,_,f,m,h,b,v,j,B,x,L,A,y,g,$,z,fe,w,ce,V,Le,J,Ce,ne,ue,me=formatNumber(n[6])+"",xe,Se,he,je,se,Z,Ne,ge,De,de,Ae,Pe;function Oe(q,S){return q[9]?create_if_block:create_else_block$1}let be=Oe(n),R=be(n);return{c(){e=element("div"),t=element("div"),s=element("div"),i=text(n[11]),a=space(),u=text(r),l=space(),o=element("div"),p=text(c),_=space(),f=element("div"),m=element("div"),h=space(),b=element("span"),v=text(n[7]),j=space(),B=element("div"),x=text(n[12]),L=space(),A=element("div"),y=element("span"),g=text(n[11]),$=space(),z=element("div"),z.innerHTML='<div class="level-progress svelte-1nm5z2e"></div>',fe=space(),w=element("div"),ce=text(`Buy\r
    `),V=element("button"),V.textContent="1",Le=space(),J=element("button"),J.textContent="10",Ce=space(),ne=element("button"),ue=element("span"),xe=text(me),Se=text(" karma"),je=space(),se=element("div"),Z=element("button"),Ne=text("Incarnate"),De=space(),de=element("div"),R.c(),attr(s,"class","title svelte-1nm5z2e"),attr(o,"class","description svelte-1nm5z2e"),attr(t,"class","item-info"),attr(m,"class","time-progress svelte-1nm5z2e"),attr(b,"class","time-label svelte-1nm5z2e"),attr(f,"class","time-counter svelte-1nm5z2e"),toggle_class(f,"continuous",n[5]),set_style(f,"--duration",`${n[3]*1e4}ms`),attr(y,"class","quantity-label svelte-1nm5z2e"),attr(z,"class","level-counter svelte-1nm5z2e"),set_style(z,"--progress",n[10]),attr(A,"class","level-wrap svelte-1nm5z2e"),attr(B,"class","level svelte-1nm5z2e"),attr(V,"class","btn-quantity svelte-1nm5z2e"),toggle_class(V,"active",n[2]===1),attr(J,"class","btn-quantity svelte-1nm5z2e"),toggle_class(J,"active",n[2]===10),set_style(ue,"font-size",".9em"),ne.disabled=he=n[6]>n[13].amount,attr(w,"class","buy-wrap svelte-1nm5z2e"),attr(Z,"class","btn-action svelte-1nm5z2e"),Z.disabled=ge=n[9]||n[8]||!n[11],attr(de,"class","autonomy svelte-1nm5z2e"),attr(se,"class","actions svelte-1nm5z2e"),attr(e,"class","item svelte-1nm5z2e")},m(q,S){insert(q,e,S),append(e,t),append(t,s),append(s,i),append(s,a),append(s,u),append(t,l),append(t,o),append(o,p),append(e,_),append(e,f),append(f,m),n[18](m),append(f,h),append(f,b),append(b,v),append(e,j),append(e,B),append(B,x),append(B,L),append(B,A),append(A,y),append(y,g),append(A,$),append(A,z),append(e,fe),append(e,w),append(w,ce),append(w,V),append(w,Le),append(w,J),append(w,Ce),append(w,ne),append(ne,ue),append(ue,xe),append(ue,Se),append(e,je),append(e,se),append(se,Z),append(Z,Ne),append(se,De),append(se,de),R.m(de,null),Ae||(Pe=[listen(V,"click",n[19]),listen(J,"click",n[20]),listen(ne,"click",n[21]),listen(Z,"click",n[15])],Ae=!0)},p(q,[S]){S&2048&&set_data(i,q[11]),S&2&&r!==(r=q[1].title+"")&&set_data(u,r),S&2&&c!==(c=q[1].description+"")&&set_data(p,c),S&128&&set_data(v,q[7]),S&32&&toggle_class(f,"continuous",q[5]),S&8&&set_style(f,"--duration",`${q[3]*1e4}ms`),S&4096&&set_data(x,q[12]),S&2048&&set_data(g,q[11]),S&1024&&set_style(z,"--progress",q[10]),S&4&&toggle_class(V,"active",q[2]===1),S&4&&toggle_class(J,"active",q[2]===10),S&64&&me!==(me=formatNumber(q[6])+"")&&set_data(xe,me),S&8256&&he!==(he=q[6]>q[13].amount)&&(ne.disabled=he),S&2816&&ge!==(ge=q[9]||q[8]||!q[11])&&(Z.disabled=ge),be===(be=Oe(q))&&R?R.p(q,S):(R.d(1),R=be(q),R&&(R.c(),R.m(de,null)))},i:noop,o:noop,d(q){q&&detach(e),n[18](null),R.d(),Ae=!1,run_all(Pe)}}}function instance$2(n,e,t){let s,i,a,r,u,l,o,c,p,_,f=noop,m=()=>(f(),f=subscribe(b,w=>t(17,_=w)),b),h;component_subscribe(n,karma,w=>t(13,h=w)),n.$$.on_destroy.push(()=>f());let{building:b}=e;m();let{id:v}=e,{textData:j}=e,B=1,x;function L(w=1){BuildingManager$1.purchase(v,w)}function A(){b.queueAction()}async function y(w){if(!x)return;await x.animate([{width:"100%"}],{duration:w,fill:"none",easing:"linear"}).finished}onMount(()=>{const w=ce=>{p||y(ce.duration)};b.addListener("queue",w)});function g(w){binding_callbacks[w?"unshift":"push"](()=>{x=w,t(4,x)})}const $=()=>t(2,B=1),z=()=>t(2,B=10),fe=()=>L(B);return n.$$set=w=>{"building"in w&&m(t(0,b=w.building)),"id"in w&&t(16,v=w.id),"textData"in w&&t(1,j=w.textData)},n.$$.update=()=>{n.$$.dirty&131072&&t(12,{level:s,quantity:i,duration:a,levelProgress:r,autonomous:u,inProgress:l}=_,s,(t(11,i),t(17,_)),(t(3,a),t(17,_)),(t(10,r),t(17,_)),(t(9,u),t(17,_)),(t(8,l),t(17,_))),n.$$.dirty&8&&t(7,o=`${formatRounded(a/1e3)}s`),n.$$.dirty&131076&&t(6,c=_.getCost(B===1?1:10)),n.$$.dirty&8&&t(5,p=a<50)},[b,j,B,a,x,p,c,o,l,u,r,i,s,h,L,A,v,_,g,$,z,fe]}class Building_item extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{building:0,id:16,textData:1})}}const textData={basic:{title:"Basic probe",description:"Doesn't know much. Doesn't do much. Kinda just being."}},buildingsWidget_svelte_svelte_type_style_lang="";function get_each_context(n,e,t){const s=n.slice();s[2]=e[t];const i=BuildingManager$1.getBuilding(s[2]);return s[3]=i,s}function create_else_block(n){let e;return{c(){e=element("p"),e.textContent="No buildings available yet.",attr(e,"class","svelte-1dfj78c")},m(t,s){insert(t,e,s)},p:noop,d(t){t&&detach(e)}}}function create_each_block(n,e){let t,s,i;return s=new Building_item({props:{building:e[3],textData:textData[e[2]],id:e[2]}}),{key:n,first:null,c(){t=empty(),create_component(s.$$.fragment),this.first=t},m(a,r){insert(a,t,r),mount_component(s,a,r),i=!0},p(a,r){e=a;const u={};r&1&&(u.building=e[3]),r&1&&(u.textData=textData[e[2]]),r&1&&(u.id=e[2]),s.$set(u)},i(a){i||(transition_in(s.$$.fragment,a),i=!0)},o(a){transition_out(s.$$.fragment,a),i=!1},d(a){a&&detach(t),destroy_component(s,a)}}}function create_fragment$1(n){let e,t,s=[],i=new Map,a,r=n[0];const u=o=>o[2];for(let o=0;o<r.length;o+=1){let c=get_each_context(n,r,o),p=u(c);i.set(p,s[o]=create_each_block(p,c))}let l=null;return r.length||(l=create_else_block()),{c(){e=element("div"),t=element("div");for(let o=0;o<s.length;o+=1)s[o].c();l&&l.c(),attr(t,"class","container svelte-1dfj78c"),attr(e,"class","entities-widget")},m(o,c){insert(o,e,c),append(e,t);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(t,null);l&&l.m(t,null),a=!0},p(o,[c]){c&1&&(r=o[0],group_outros(),s=update_keyed_each(s,c,u,1,o,r,i,t,outro_and_destroy_block,create_each_block,null,get_each_context),check_outros(),!r.length&&l?l.p(o,c):r.length?l&&(l.d(1),l=null):(l=create_else_block(),l.c(),l.m(t,null)))},i(o){if(!a){for(let c=0;c<r.length;c+=1)transition_in(s[c]);a=!0}},o(o){for(let c=0;c<s.length;c+=1)transition_out(s[c]);a=!1},d(o){o&&detach(e);for(let c=0;c<s.length;c+=1)s[c].d();l&&l.d()}}}function instance$1(n,e,t){let s,i;return component_subscribe(n,BuildingManager$1,a=>t(1,i=a)),n.$$.update=()=>{n.$$.dirty&2&&t(0,s=i.buildings.filter(a=>a!=="main_action"))},[s,i]}class Buildings_widget extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{})}}const App_svelte_svelte_type_style_lang="";function create_fragment(n){let e,t,s,i,a,r,u,l,o,c,p,_,f,m,h,b,v,j,B,x,L,A,y;return l=new Resources_info({}),f=new Main_action({}),h=new Incarnation_cycle({}),v=new Buildings_widget({}),x=new Upgrades_widget({}),{c(){e=element("link"),t=element("link"),s=element("link"),i=space(),a=element("header"),r=element("h1"),r.textContent="Karma Clicker",u=space(),create_component(l.$$.fragment),o=space(),c=element("main"),p=element("div"),_=element("div"),create_component(f.$$.fragment),m=space(),create_component(h.$$.fragment),b=space(),create_component(v.$$.fragment),j=space(),B=element("div"),create_component(x.$$.fragment),L=space(),A=element("footer"),attr(e,"rel","preconnect"),attr(e,"href","https://fonts.googleapis.com"),attr(t,"rel","preconnect"),attr(t,"href","https://fonts.gstatic.com"),attr(t,"crossorigin",""),attr(s,"href","https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500&display=swap"),attr(s,"rel","stylesheet"),attr(r,"class","svelte-rcsya3"),attr(a,"class","svelte-rcsya3"),attr(_,"class","incarnation svelte-rcsya3"),attr(B,"class","upgrades svelte-rcsya3"),attr(p,"class","container svelte-rcsya3"),attr(c,"class","svelte-rcsya3"),attr(A,"class","svelte-rcsya3")},m(g,$){append(document.head,e),append(document.head,t),append(document.head,s),insert(g,i,$),insert(g,a,$),append(a,r),append(a,u),mount_component(l,a,null),insert(g,o,$),insert(g,c,$),append(c,p),append(p,_),mount_component(f,_,null),append(_,m),mount_component(h,_,null),append(p,b),mount_component(v,p,null),append(p,j),append(p,B),mount_component(x,B,null),insert(g,L,$),insert(g,A,$),y=!0},p:noop,i(g){y||(transition_in(l.$$.fragment,g),transition_in(f.$$.fragment,g),transition_in(h.$$.fragment,g),transition_in(v.$$.fragment,g),transition_in(x.$$.fragment,g),y=!0)},o(g){transition_out(l.$$.fragment,g),transition_out(f.$$.fragment,g),transition_out(h.$$.fragment,g),transition_out(v.$$.fragment,g),transition_out(x.$$.fragment,g),y=!1},d(g){detach(e),detach(t),detach(s),g&&detach(i),g&&detach(a),destroy_component(l),g&&detach(o),g&&detach(c),destroy_component(f),destroy_component(h),destroy_component(v),destroy_component(x),g&&detach(L),g&&detach(A)}}}function instance(n){return BuildingManager$1.unlock("main_action"),[]}class App extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{})}}new App({target:document.getElementById("app")});
